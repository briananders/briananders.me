<%
  $my_name = "Brian Anders"
  $twitter_handle = "@brnandrs"
  $default_image = "http://briananders.me/favicon_base-7322c5d3.png"
  $description = "Brian Anders's personal website, a UX Engineer at Google."
%>

<!DOCTYPE html>
<!--[if lt IE 9]><html itemscope itemtype="http://schema.org/WebPage" class="no-js lt-ie9 nr" lang=en><![endif]-->
<!--[if IE 9]><html itemscope itemtype="http://schema.org/WebPage" class="no-js ie9 nr" lang=en><![endif]-->
<!--[if gt IE 9]><!--> <html itemscope itemtype="http://schema.org/WebPage" class="no-js" lang=en> <!--<![endif]-->
  <head>
    <meta http-equiv="content-type"    content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="keywords"              content="<%= current_page.data.keywords ? "#{current_page.data.keywords}, Brian, Anders, #{$my_name}" : "Brian, Anders, #{$my_name}" %>">
    <meta name="description"           content="<%= current_page.data.description ? "#{current_page.data.description}" : "#{$description}" %>">
    <meta name="author"                content="<%= $my_name %>">
    <meta name="viewport"              content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="true">

    <!-- Google Authorship and Publisher Markup -->
    <link rel="author" href="https://plus.google.com/103609977209431639131/posts"/>

    <!-- Schema.org markup for Google+ -->
    <meta itemprop="name"              content="<%= current_page.data.title ? "#{current_page.data.title} | #{$my_name}" : "#{$my_name}" %>">
    <meta itemprop="description"       content="<%= current_page.data.description ? "#{current_page.data.description}" : "#{$description}" %>">
    <meta itemprop="image"             content="<%= current_page.data.image ? "#{current_page.data.image}" : "#{$default_image}" %>">

    <!-- Twitter Card data -->
    <meta name="twitter:card"          content="summary">
    <meta name="twitter:url"           content="http://briananders.me<%= current_page.url %>"
    <meta name="twitter:site"          content="<%= $twitter_handle %>">
    <meta name="twitter:creator"       content="<%= $twitter_handle %>">
    <meta name="twitter:title"         content="<%= current_page.data.title ? "#{current_page.data.title} | #{$my_name}" : "#{$my_name}" %>">
    <meta name="twitter:description"   content="<%= current_page.data.description ? "#{current_page.data.description}" : "#{$description}" %>">
    <meta name="twitter:image"         content="<%= current_page.data.image ? "#{current_page.data.image}" : "#{$default_image}" %>">

    <!-- Open Graph data -->
    <meta property="og:type"           content="profile" />
    <meta property="og:url"            content="http://briananders.me<%= current_page.url %>" />
    <meta property="og:title"          content="<%= current_page.data.title ? "#{current_page.data.title} | #{$my_name}" : "#{$my_name}" %>" />
    <meta property="og:image"          content="<%= current_page.data.image ? "#{current_page.data.image}" : "#{$default_image}" %>" />
    <meta property="og:description"    content="<%= current_page.data.description ? "#{current_page.data.description}" : "#{$description}" %>" />
    <meta property="og:site_name"      content="<%= "#{$my_name}'s personal website" %>" />


    <!-- Favicon -->
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/apple-touch-icon-152x152-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144x144-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/apple-touch-icon-114x114-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/apple-touch-icon-72x72-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png" />
    <link rel="shortcut icon" href="/favicon.png" />
    <link rel="icon" type="image/ico" href="/favicon.ico" />
    <link rel="shortcut icon" href="/favicon.ico" />


    <title><%= current_page.data.title ? "#{current_page.data.title} | #{$my_name}" : "#{$my_name}" %></title>


    <link href='http://fonts.googleapis.com/css?family=Open+Sans:700,400|Raleway:100,400' rel='stylesheet' type='text/css'>
    <%= stylesheet_link_tag "all" %>

    <!--[if lt IE 9]>
      <%= javascript_include_tag "modernizr" %>
      <script type="text/javascript">
        document.createElement("chevron");
        document.createElement("spinner");
      </script>
    <![endif]-->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-50229612-1', 'briananders.me');
      ga('send', 'pageview');
    </script>
  </head>

  <body class="<%= page_classes %> <%= current_page.data.classes %>">

    <svg id="svg" version="1.1" xmlns="http://www.w3.org/2000/svg" ></svg>

    <div class="container">

      <% if current_page.data.type == "profile" %>
        <header id="header" itemscope itemtype="http://schema.org/Person">
          <%#= partial "partials/name-svg" %>
          <h1><%= $my_name %></h1>
          <meta itemprop="name" content="<%= $my_name %>">
          <meta itemprop="url" content="http://briananders.me">
          <meta itemprop="jobTitle" content="UX Engineer">
        </header>
      <% end %>

      <div class="content">

        <%= yield %>

      </div>

      <%= partial "partials/links" %>

    </div>

    <%= javascript_include_tag "all" %>
  </body>
</html>